{"version":3,"sources":["services/imageTodayApi.js","components/FetchDate/view.js","components/FetchDate/index.js","components/ImageCard/view.js","components/ImageCard/index.js","containers/ImagenToday/view.js","containers/ImagenToday/index.js","services/curiosityApi.js","components/CuriosityCard/view.js","components/CuriosityList/view.js","containers/Curiosity/view.js","containers/Curiosity/index.js","components/Asteroids/view.js","components/Asteroids/index.js","services/asteroidApi.js","components/Graph/view.js","containers/Asteroid/view.js","containers/Asteroid/index.js","containers/Home/view.js","containers/Home/index.js","App.js","index.js","assets/images/galaxia.svg","assets/images/today.png","assets/images/curiosity.PNG","assets/images/asteroid.jpg"],"names":["URL","process","formatData","data","dateImg","date","title","explanation","url","hdurl","getImageByDate","a","axios","get","FetchDate","setDate","fetchImg","useEffect","e","console","log","className","type","value","onChange","target","ImageCard","src","alt","ImagenToday","cacheImagetoday","setCacheImagetoday","today","useState","setData","dateIsValid","cacheData","photos","map","id","sol","img","img_src","camera","name","message","CuriosityCard","galaxia","CuriosityList","card","key","Curiosity","cacheCuriosity","setCacheCuriosity","React","Asteroids","memo","danger","count","element_count","asteroids","near_earth_objects","max","min","colorsMax","colorsMin","el","estimated_diameter","kilometers","estimated_diameter_max","estimated_diameter_min","is_potentially_hazardous_asteroid","forEach","push","diameter","labels","datasets","label","backgroundColor","Asteroid","cacheAsteroids","setCacheAsteroids","filter","asteroid","length","Home","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","to","todayFront","curiosityFront","asteroidFront","exact","path","render","props","App","component","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d10f703d.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst URL = `https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_API_KEY}&hd=true`;\r\n\r\nfunction formatData(data) {\r\n  const { date, title, explanation, url, hdurl } = data;\r\n\r\n  return {\r\n    dateImg: date,\r\n    title,\r\n    explanation,\r\n    url,\r\n    hdurl,\r\n  };\r\n}\r\n\r\nexport async function getImageByDate(date) {\r\n \r\n    const { data } = await axios.get(`${URL}&date=${date}`);\r\n    return formatData(data);\r\n \r\n}\r\n\r\n","import React, { useEffect } from 'react';\r\n//import PropTypes from 'prop-types';\r\nimport './styles.scss';\r\n\r\nfunction FetchDate({ date, setDate, fetchImg }) {\r\n  useEffect(() => {\r\n    //los datos se tienen q recoger en el componente principal\r\n    try {\r\n      fetchImg();\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  }, [date]); //fetchImg para que no salga el warning\r\n\r\n  function handleOnChange(e) {\r\n    setDate(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <input\r\n      className=\"FetchDate__container\"\r\n      type=\"date\"\r\n      value={date}\r\n      onChange={handleOnChange}\r\n    ></input>\r\n  );\r\n}\r\n\r\nexport default FetchDate;\r\n","import FetchDate from './view';\r\n\r\nexport default FetchDate;","import React from 'react';\r\nimport './styles.scss';\r\n\r\nfunction ImageCard({ data }) {\r\n  const { /*dateImg,*/ title, explanation, url /*hdurl*/ } = data; //@TODO   Boton bajo la imagen para imagen en HD (hdurl)\r\n\r\n  return <>\r\n    {data.title?\r\n    <div className=\"ImageCard__container\">\r\n      <h2>{title}</h2>\r\n      <div className=\"ImageCard__img\">\r\n        <img src={url} alt={title}></img>\r\n      </div>\r\n      <div className=\"ImageCard__description\">\r\n        <p>{explanation}</p>\r\n      </div>\r\n    </div>: <h2>No data</h2>}</>\r\n  ;\r\n}\r\n\r\nexport default ImageCard;\r\n","import ImageCard from './view';\r\n\r\nexport default ImageCard;","import React, { useState } from 'react';\r\nimport {getImageByDate} from '../../services/imageTodayApi'; \r\nimport \"./styles.scss\";\r\n\r\nimport FetchDate from '../../components/FetchDate';\r\nimport ImageCard from '../../components/ImageCard';\r\n\r\nfunction ImagenToday ({date, setDate, cacheImagetoday, setCacheImagetoday, today}){\r\n    const [data, setData] = useState({})\r\n\r\n    /*\r\n    async function fetchImagentodayData() {\r\n        const data = await getImageByDate(date);\r\n        setData(data);\r\n        console.log(data)\r\n    }*/\r\n\r\n    let dateIsValid = true;\r\n    if (date>today){\r\n        dateIsValid= false;\r\n    }\r\n\r\n    async function fetchImagentodayData() {\r\n\r\n        if(cacheImagetoday[date]){  \r\n        console.log('cojo datos del cache')\r\n        console.log(cacheImagetoday[date])\r\n        setData(cacheImagetoday[date])\r\n        \r\n        }else{\r\n         let data = await getImageByDate(date);\r\n         setData(data);\r\n     \r\n         let  cacheData = {...cacheImagetoday, [date]:data}\r\n     \r\n         setCacheImagetoday(cacheData)\r\n         console.log(cacheData)\r\n        }\r\n }\r\n   \r\n    return(\r\n        <> \r\n            <FetchDate fetchImg={fetchImagentodayData} date={date} setDate={setDate} ></FetchDate>\r\n            {dateIsValid? \r\n            <section className=\"ImagenToday__container\">\r\n                \r\n                    <ImageCard  data={data}></ImageCard>\r\n              \r\n            </section> \r\n            : <h2> The image of the day can only be displayed until {today} </h2>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImagenToday;","import ImagenToday from './view';\r\n\r\n\r\nexport default ImagenToday;","import axios from 'axios';\r\n\r\n\r\nconst URL =`https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/photos?api_key=${process.env.REACT_APP_API_KEY}`;\r\n\r\nfunction formatData(data) {\r\n  data=(data.photos.map(({id, sol, img_src, camera }) =>({id,sol, img: img_src, camera: camera.name})));\r\nreturn data\r\n}\r\n\r\n  export async function getImageByDate(date) {\r\n    try{\r\n\r\n      const { data } = await axios.get(`${URL}&earth_date=${date}`);\r\n      return formatData(data)\r\n    }catch(e){\r\n      console.log(e.message)\r\n    }\r\n  }\r\n\r\n  ","import React from 'react';\r\nimport './styles.scss';\r\n\r\nimport galaxia from '../../assets/images/galaxia.svg'\r\n\r\n\r\nfunction CuriosityCard({ img, camera }) {\r\n  return (\r\n    <>\r\n      <li className=\"CuriosityCard__card\">\r\n        <h4>Cámera {camera}</h4>\r\n        <div className=\"CuriosityCard__img\">\r\n          {img?<img src={img} alt={camera} />:\r\n         <div  className=\"CuriosityCard__loading\" > <img src={galaxia} alt='Loading' /></div>}\r\n        </div>\r\n      </li>\r\n    </>\r\n  );\r\n}\r\nexport default CuriosityCard;\r\n","import React from 'react';\r\nimport CuriosityCard from '../CuriosityCard/view';\r\nimport \"./styles.scss\";\r\n\r\n\r\nfunction CuriosityList({data}){\r\n\r\nif (data[0]){\r\nreturn <section className=\"CuriosityList__container\">\r\n<h2>Images taken by the Rovers Curiosity in the sun: {data[0].sol}</h2>\r\n<p>A sun is every day on Mars <br/>The suns are counted since the Rovers landed</p>\r\n    <ul className=\"CuriosityList__list\">\r\n        {data.map(card => (\r\n            <CuriosityCard key={card.id + 'id'} {...card} />\r\n        ))}\r\n    </ul>\r\n    </section>\r\n}\r\nreturn <h2 className=\"CuriosityException__message\">The Rovers Curiosity landed on Mars on 06-08-2012. <br/> He died on 09-28-2019 because of a sandstorm. <br/> Not every day photos were taken.</h2>\r\n}\r\n\r\n\r\n\r\nexport default CuriosityList;","import React, { useState } from 'react';\r\n\r\nimport {getImageByDate} from '../../services/curiosityApi'; \r\nimport FetchDate from '../../components/FetchDate';\r\nimport CuriosityList from '../../components/CuriosityList/view';\r\n\r\nfunction Curiosity({cacheCuriosity,setCacheCuriosity}){\r\n   const [data, setData] = useState([{}])\r\n   const [date, setDate] = useState('2012-08-08');  \r\n\r\n\r\n   async function fetchCuriosityData() {\r\n\r\n       if(cacheCuriosity[date]){  \r\n       console.log('cojo datos del cache')\r\n       console.log(cacheCuriosity[date])\r\n       setData(cacheCuriosity[date])\r\n       \r\n       }else{\r\n        let data = await getImageByDate(date);\r\n        setData(data);\r\n    \r\n        let  cacheData = {...cacheCuriosity, [date]:data}\r\n    \r\n        setCacheCuriosity(cacheData)\r\n        console.log(cacheData)\r\n       }\r\n}\r\n\r\n\r\n    return <> \r\n    <FetchDate fetchImg={fetchCuriosityData} date={date} setDate={setDate} ></FetchDate>\r\n    <CuriosityList data={data}></CuriosityList>\r\n    </>\r\n}\r\n\r\nexport default Curiosity;","import Curiosity from './view';\r\n\r\n\r\nexport default Curiosity;","import React from 'react';\r\n\r\n\r\nfunction Asteroids({ data, danger }) {\r\n  const { count } = data;\r\n  /*const { count, asteroids} = data;\r\n  \r\n\r\n  let danger;\r\n  if (asteroids) {\r\n    danger = (asteroids.filter(asteroid => asteroid.is_potentially_hazardous_asteroid === true).length );\r\n  }*/\r\n  console.log('rerender Asteroidssss')\r\n\r\n  return (\r\n    <section>\r\n      <h3>\r\n      On this date {count} asteroids have approached the Earth's atmosphere\r\n  \r\n      </h3>\r\n      <h3>\r\n        {danger ? `${danger} of which are potentially dangerous` : ''}\r\n      </h3>\r\n     \r\n    </section>\r\n  );\r\n}\r\nexport default  React.memo(Asteroids);\r\n","import Asteroids from './view';\r\n\r\nexport default Asteroids;","import axios from 'axios';\r\n\r\n\r\nconst URL =`https://api.nasa.gov/neo/rest/v1/feed?api_key=${process.env.REACT_APP_API_KEY}`;\r\n\r\n\r\nfunction formatData(data ,date) {\r\nconst {element_count} = data;\r\nconst asteroids = data.near_earth_objects[date];\r\n\r\n\r\nreturn {\r\n  count: element_count,\r\n  asteroids\r\n};\r\n}\r\n\r\n  export async function getImageByDate(date) {\r\n    try{\r\n\r\n      const { data } = await axios.get(`${URL}&start_date=${date}&end_date=${date}`);\r\n      return (formatData(data,date))\r\n    }catch(e){\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  ","import React from 'react';\r\nimport './styles.scss';\r\nimport { Bar } from 'react-chartjs-2';\r\n\r\nfunction Graph({ data, date }) {\r\n  console.log(data.count);\r\n  console.log(date);\r\n\r\n\r\nconsole.log('rerender Graph')\r\n\r\n  //Bar graph\r\n  let max = [];\r\n  let min = [];\r\n  let name = [];\r\n  let isDanger = [];\r\n  let colorsMax = [];\r\n  let colorsMin = [];\r\n\r\n  function formatData(data) {\r\n    if (data.asteroids) {\r\n      const { asteroids } = data;\r\n      max = asteroids.map(\r\n        el => el.estimated_diameter.kilometers.estimated_diameter_max\r\n      );\r\n\r\n      min = asteroids.map(\r\n        el => el.estimated_diameter.kilometers.estimated_diameter_min\r\n      );\r\n\r\n      name = asteroids.map(el => el.name);\r\n\r\n      isDanger = asteroids.map(el => el.is_potentially_hazardous_asteroid);\r\n\r\n      isDanger.forEach(e => {\r\n        e ? colorsMax.push('#D22730') : colorsMax.push('#96CDFF');\r\n        e ? colorsMin.push('#FE5F55') : colorsMin.push('#D8E1FF');\r\n      });\r\n    }\r\n  }\r\n\r\n  formatData(data);\r\n\r\n  const diameter = {\r\n    data: {\r\n      labels: name,\r\n      datasets: [\r\n        {\r\n          label: 'maximum diameter (km)',\r\n          backgroundColor: colorsMax,\r\n\r\n          data: max,\r\n        },\r\n        {\r\n          label: 'Minimum diameter (km)',\r\n          backgroundColor: colorsMin,\r\n          data: min,\r\n        },\r\n        {\r\n          label: '(potentially hazardous)',\r\n          backgroundColor: '#D22730',\r\n          data: [0],\r\n        },\r\n      ],\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"Graph__container\">\r\n      <h2>\r\n        Maximum and minimum size in km of each of the asteroids for the given\r\n        date\r\n      </h2>\r\n      <Bar className=\"Graph__bar\" data={diameter.data} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default  React.memo(Graph) ;\r\n","import React, { useState } from 'react';\r\nimport FetchDate from '../../components/FetchDate';\r\nimport Asteroids from '../../components/Asteroids';\r\nimport { getImageByDate } from '../../services/asteroidApi';\r\nimport Graph from '../../components/Graph/view';\r\nimport \"./styles.scss\";\r\n\r\nfunction Asteroid({ date, setDate, cacheAsteroids, setCacheAsteroids }) {\r\n  const [data, setData] = useState({});\r\n\r\n  const {  asteroids } = data;\r\n\r\n  let danger;\r\n  if (asteroids) {\r\n    danger = asteroids.filter(\r\n      asteroid => asteroid.is_potentially_hazardous_asteroid === true\r\n    ).length;\r\n  }\r\n\r\n  console.log('rerender Asteroid');\r\n\r\n  async function fetchAsteroidData() {\r\n    if (cacheAsteroids[date]) {\r\n      console.log('cojo datos del cache');\r\n      console.log(cacheAsteroids[date]);\r\n      setData(cacheAsteroids[date]);\r\n    } else {\r\n      let data = await getImageByDate(date);\r\n      setData(data);\r\n\r\n      let cacheData = { ...cacheAsteroids, [date]: data };\r\n\r\n      setCacheAsteroids(cacheData);\r\n      console.log(data);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"Asteroid__container\">\r\n      <FetchDate\r\n        fetchImg={fetchAsteroidData}\r\n        date={date}\r\n        setDate={setDate}\r\n      ></FetchDate>\r\n      {data ? (\r\n        <Asteroids data={data} date={date} danger={danger} />\r\n      ) : (\r\n        <h2>No data this day</h2>\r\n      )}\r\n      {asteroids ? (\r\n        <Graph data={data} date={date} asteroids={asteroids} />\r\n      ) : (\r\n        <h2>No data for this date </h2>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default React.memo(Asteroid);\r\n","import Asteroid from './view';\r\n\r\n\r\nexport default Asteroid;","\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n   Link,\r\n} from \"react-router-dom\";\r\nimport \"./styles.scss\";\r\n\r\nimport ImagenToday from \"../ImagenToday\";\r\nimport Curiosity from '../Curiosity';\r\nimport Asteroid from '../Asteroid'\r\nimport todayFront from '../../assets/images/today.png'\r\nimport curiosityFront from '../../assets/images/curiosity.PNG'\r\nimport asteroidFront from '../../assets/images/asteroid.jpg'\r\nfunction Home(){\r\n\r\n    //States\r\n    const [date, setDate] = useState(''); \r\n    const [cacheCuriosity, setCacheCuriosity] = useState({})\r\n    const [cacheAsteroids, setCacheAsteroids] = useState([{}])\r\n    const [cacheImagetoday, setCacheImagetoday] = useState({})\r\n    \r\n    let today = new Date();\r\n    \r\n\r\n\r\n    useEffect(() => {   //para que actualice a fecha de hoy al montar el componente\r\n      let dd = String(today.getDate()).padStart(2, '0');\r\n      let mm = String(today.getMonth() + 1).padStart(2, '0');\r\n      let yyyy = today.getFullYear();\r\n  \r\n      today = yyyy + '-' + mm + '-' + dd;\r\n      setDate(today); \r\n    }, []);\r\n    \r\n\r\n    return <>\r\n\r\n    <section className=\"Home__title\">\r\n      <h1>Welcome to my application on React about NASA images</h1>\r\n    </section>\r\n    <section className=\"Home__link\">\r\n    < Link to='/imagetoday'> <div className=\"Home__link__div\"> <img src={todayFront} alt='Space Today' /> <h3>Image Today</h3> </div> </ Link>\r\n    < Link to='/curiosity'> <div className=\"Home__link__div\">  <img src={curiosityFront} alt='Curiosity' /><h3>Rovers Curiosity</h3> </div></ Link>\r\n    < Link to='/asteroid'> <div className=\"Home__link__div\"><img src={asteroidFront} alt='Asteroid' /> <h3>Asteroids</h3> </div></ Link>\r\n    </section>\r\n   \r\n      <Switch>\r\n        <Route exact path=\"/imagetoday\" render={(props) => <ImagenToday {...props} today={today} date={date} setDate={setDate} cacheImagetoday={cacheImagetoday} setCacheImagetoday={setCacheImagetoday} />} />\r\n        <Route exact path=\"/curiosity\" render={(props) => <Curiosity {...props} cacheCuriosity={cacheCuriosity} setCacheCuriosity={setCacheCuriosity} />} />\r\n        <Route exact path=\"/asteroid\" render={(props) => <Asteroid {...props} date={date} setDate={setDate} cacheAsteroids={cacheAsteroids} setCacheAsteroids={setCacheAsteroids} />}  />\r\n      </Switch>\r\n    \r\n    </>\r\n}\r\n\r\n\r\n\r\nexport default Home;","import Home from './view';\r\n\r\n\r\nexport default Home;","import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Home from './containers/Home';\n\nfunction App() {\n\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/\" component={Home} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","module.exports = __webpack_public_path__ + \"static/media/galaxia.750abb54.svg\";","module.exports = __webpack_public_path__ + \"static/media/today.10aa44d7.png\";","module.exports = __webpack_public_path__ + \"static/media/curiosity.ba387c92.PNG\";","module.exports = __webpack_public_path__ + \"static/media/asteroid.65b0d38c.jpg\";"],"sourceRoot":""}